<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Subscription.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">KIT-PSE_Sensordatenbankmanagementsystem</a> &gt; <a href="index.source.html" class="el_package">notificationsystem.model</a> &gt; <span class="el_source">Subscription.java</span></div><h1>Subscription.java</h1><pre class="source lang-java linenums">package notificationsystem.model;

import javax.persistence.*;
import java.time.LocalDate;

/**
 * The Subscription class stores data about a subscription of a single user to a single sensor. To allow for regular
 * reports to the subscriber, a timestamp of the date and time of the subscription is saved along with the time interval
 * at which the report mails are to be sent.
 * The class is mainly used to bundle this information into a single class, massively simplifying dealing with sensor-
 * subscriptions and reports.
 */
@Entity(name = &quot;Subscription&quot;)
@Table(name = &quot;Subscription&quot;)
public class Subscription {

    private final static int ALLOCATION_SIZE = 1;

    @Id
    @SequenceGenerator(
            name = &quot;subscription_sequence&quot;,
            sequenceName = &quot;subscription_sequence&quot;,
            allocationSize = ALLOCATION_SIZE

    )
    @GeneratedValue(
            strategy = GenerationType.SEQUENCE,
            generator = &quot;subscription_sequence&quot;
    )
    @Column(
            name = &quot;id&quot;,
            updatable = false
    )
    private long id;

    @Column(
            name = &quot;subscriber_address&quot;,
            nullable = false
    )
    private String subscriberAddress;

    @Column(
            name = &quot;sensor&quot;,
            nullable = false
    )
    private String sensorId;

    @Column(
            name = &quot;sub_time&quot;,
            nullable = false
    )
    private LocalDate subTime;

    @Column(
            name = &quot;report_interval&quot;,
            nullable = false
    )
    private long reportInterval;

    @Column(
            name = &quot;toggle_alert&quot;,
            nullable = false
    )
    private boolean toggleAlert;

    /**
     * Constructs a new subscription.
     * @param subscriberAddress e-mail address of the subscriber.
     * @param sensorId sensor the user subscribes to.
     * @param subTime time at which the user subscribed to the sensor.
     * @param reportInterval time period at which report e-mails are sent.
     */
<span class="fc" id="L73">    public Subscription(String subscriberAddress, String sensorId, LocalDate subTime, long reportInterval, boolean toggleAlert) {</span>
<span class="fc" id="L74">        this.subscriberAddress = subscriberAddress;</span>
<span class="fc" id="L75">        this.sensorId = sensorId;</span>
<span class="fc" id="L76">        this.subTime = subTime;</span>
<span class="fc" id="L77">        this.reportInterval = reportInterval;</span>
<span class="fc" id="L78">        this.toggleAlert = toggleAlert;</span>
<span class="fc" id="L79">    }</span>

    /**
     * Constructs new Subscription.
     */
<span class="nc" id="L84">    public Subscription() {</span>
<span class="nc" id="L85">    }</span>

    /**
     * Gets the e-mail address of the subscriber.
     * @return e-mail address of the subscriber.
     */
    public String getSubscriberAddress() {
<span class="fc" id="L92">        return subscriberAddress;</span>
    }

    /**
     * Gets the sensor the user is subscribed to.
     * @return the sensor the user is subscribed to.
     */
    public String getSensorId() {
<span class="fc" id="L100">        return sensorId;</span>
    }

    /**
     * Gets the time at which the user subscribed to the sensor.
     * @return time of the subscription.
     */
    public LocalDate getSubTime() {
<span class="fc" id="L108">        return subTime;</span>
    }

    /**
     * Sets the time at which the user subscribed to the sensor.
     * @param subTime time of the subscription.
     */
    public void setSubTime(LocalDate subTime) {
<span class="fc" id="L116">        this.subTime = subTime;</span>
<span class="fc" id="L117">    }</span>

    /**
     * Gets the time period between reports.
     * @return the time period between two reports.
     */
    public long getReportInterval() {
<span class="fc" id="L124">        return reportInterval;</span>
    }

    /**
     * Gets id of the subscription.
     * @return id of the subscription.
     */
    public long getId() {
<span class="fc" id="L132">        return id;</span>
    }

    /**
     * Checks if toggleAlert is true or false
     * @return status of toggleAlert
     */
    public boolean isToggleAlert() {
<span class="fc" id="L140">        return toggleAlert;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>